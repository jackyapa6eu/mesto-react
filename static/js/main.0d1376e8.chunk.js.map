{"version":3,"sources":["contexts/CurrentUserContext.js","images/header__logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","className","src","headerLogo","alt","Card","props","currentUser","useContext","isMyOwn","card","owner","_id","isLikedByMe","likes","some","like","likeButtonClassNames","classNames","onClick","onCardDelete","link","name","onCardClick","onFullImage","onLikeClick","width","height","viewBox","fill","xmlns","d","stroke","length","Main","onEditAvatar","avatar","type","onEditProfile","about","onAddPlace","cards","map","onCardLike","Footer","Date","getFullYear","PopupWithForm","openedPopupSelector","isOpen","onSubmit","noValidate","onClose","title","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","event","preventDefault","onUpdateUser","onChange","target","value","id","required","minLength","maxLength","EditAvatarPopup","inputRef","useRef","current","onUpdateAvatar","ref","placeholder","AddPlacePopup","setNewPlaceLink","ImagePopup","api","baseUrl","headers","this","_headers","_baseUrl","_fetcher","newUserData","cardId","newAvatar","path","method","body","options","JSON","stringify","fetch","then","res","ok","json","Promise","reject","status","authorization","App","isEditProfilePopupOpen","toggleEditProfilePopup","isAddPlacePopupOpen","toggleAddPlacePopup","isEditAvatarPopupOpen","toggleEditAvatarPopup","isImagePopupOpen","toggleImagePopup","selectedCard","setCard","setCurrentUser","setCardsArr","updateCards","upDatedCard","newCards","closeAllPopups","getUserData","userInfo","catch","err","console","log","getInitialCards","result","Provider","unLikeCard","unLikedCard","likeCard","likedCard","cardForDelete","deleteCard","filter","newPlaceData","uploadNewCard","addedCard","updateUserData","newAvatarLink","updateAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0d1376e8.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","export default __webpack_public_path__ + \"static/media/header__logo.a307e1c4.svg\";","import React from 'react'\r\nimport headerLogo from '../images/header__logo.svg'\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"logo\" src={headerLogo} alt=\"логотип Mesto\"/>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\nimport classNames from 'classnames'\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isMyOwn = props.card.owner._id === currentUser._id;\r\n  const isLikedByMe = props.card.likes.some(like => like._id === currentUser._id);\r\n  const likeButtonClassNames = classNames('place__like-button', {\r\n    'place__like-button_active': isLikedByMe\r\n  })\r\n  function handleCardClick() {\r\n    props.onCardClick(props.card);\r\n    props.onFullImage(true);\r\n  }\r\n  function handleLikeClick() {\r\n    props.onLikeClick(props.card);\r\n  }\r\n  function handleDeleteCard() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n  return (\r\n    <article className=\"place\" key={props.card._id}>\r\n      {isMyOwn && <button className=\"place__remove-btn\" onClick={handleDeleteCard}/>}\r\n      <img className=\"place__image\" src={props.card.link} alt={props.card.name} onClick={handleCardClick}/>\r\n      <div className=\"place__description\">\r\n        <h2 className=\"place__title\">{props.card.name}</h2> \r\n        <div className=\"place__like\">\r\n          <svg className={likeButtonClassNames} onClick={handleLikeClick} width=\"21\" height=\"19\" viewBox=\"0 0 21 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M18.8005 1.95849L18.8023 1.96024C20.7437 3.88233 20.7462 7.03905 18.8005 8.98466L10.361 17.4238L1.94628 9.00951C1.94569 9.00892 1.94511 9.00832 1.94453 9.00772C1.0188 8.06185 0.5 6.81051 0.5 5.48217C0.5 4.14855 1.00122 2.89987 1.94265 1.95849L1.94266 1.95849L1.94441 1.95672C3.86629 0.0157068 7.02186 0.0131363 8.96748 1.97793L8.96922 1.97967L10.0074 3.01784L10.3646 3.37496L10.7181 3.01425L11.7545 1.95673C13.6994 0.0138381 16.8563 0.014425 18.8005 1.95849Z\" stroke=\"black\"/>\r\n          </svg>\r\n          <span className=\"place__like-counter\">{props.card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n  </article>\r\n  )\r\n}\r\n\r\nexport default Card","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\nimport Card from './Card.js';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar\" onClick={props.onEditAvatar}>\r\n          <div className=\"profile__overlay\"/>\r\n          <img className=\"profile__avatar-image\" src={currentUser.avatar} alt=\"Изображение профиля\"/>\r\n        </div>\r\n        <div className=\"profile__info\"> \r\n          <h1 className=\"profile__display-name\">{currentUser.name}</h1>\r\n          <button type=\"button\" className=\"profile__edit-button\" onClick={props.onEditProfile}/>\r\n          <p className=\"profile__profession\">{currentUser.about}</p>\r\n        </div>\r\n        <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlace}/>\r\n      </section>\r\n      <section className=\"places\">\r\n        {props.cards.map((card) => (<Card \r\n          card={card} \r\n          key={card._id} \r\n          onCardClick={props.onCardClick} \r\n          onCardDelete={props.onCardDelete}\r\n          onFullImage={props.onFullImage} \r\n          onLikeClick={props.onCardLike}/>\r\n          ))}\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main;","import React from 'react'\r\n\r\nfunction Footer() {\r\n  function currentYear() {\r\n    return (new Date()).getFullYear()\r\n  }\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">{`\\u00A9 ${currentYear()} Mesto Russia`}</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","function PopupWithForm(props) {\r\n  const openedPopupSelector = props.isOpen ? \"popup_opened\" : '';\r\n  return (\r\n    <div className={`popup popup_type_${props.name} ${openedPopupSelector}`}>\r\n      <form className={`popup__form popup__form_type_${props.name}`} name={props.name} onSubmit={props.onSubmit} noValidate>\r\n        <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}/>\r\n        <h3 className=\"popup__title\">{props.title}</h3>\r\n        {props.children}\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]); \r\n\r\n  function handleNameInput(event) {\r\n    setName(event.target.value);\r\n  }\r\n  function handleDescriptionInput(event) {\r\n    setDescription(event.target.value);\r\n  }\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm name=\"editprofile\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input type=\"text\" \r\n        name=\"name\" \r\n        className=\"popup__input popup__input_type_display-name\" \r\n        onChange={handleNameInput} \r\n        value={name || ''}\r\n        id=\"profile-display-name-input\" \r\n        required \r\n        minLength=\"2\" \r\n        maxLength=\"40\"/>\r\n      <span className='popup__error popup__error_visible' id=\"profile-display-name-input-error\"/>\r\n      <input type=\"text\" \r\n        name=\"about\" \r\n        className=\"popup__input popup__input_type_profession\" \r\n        onChange={handleDescriptionInput} \r\n        value={description || ''}\r\n        id=\"profile-profession-input\" \r\n        required \r\n        minLength=\"2\" \r\n        maxLength=\"200\"/>\r\n      <span className='popup__error popup__error_visible' id=\"profile-profession-input-error\"/>\r\n    <button type=\"submit\" className=\"popup__button\">Сохранить</button> \r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const inputRef = React.useRef();\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    const avatar = {\r\n      [inputRef.current.name] :inputRef.current.value\r\n    }\r\n    props.onUpdateAvatar(avatar);\r\n  }\r\n  return (\r\n    <PopupWithForm name=\"editavatar\" title=\"Обновить аватар\" isOpen={props.isOpen} onClose={props.onClose}  onSubmit={handleSubmit}>\r\n    <input type=\"url\" \r\n      name=\"avatar\" \r\n      ref={inputRef} \r\n      className=\"popup__input popup__input_type_avatar\" \r\n      id=\"profile-avatar-input\" \r\n      placeholder=\"Ссылка на картинку\" \r\n      required\r\n    />\r\n    <span className='popup__error popup__error_visible' id=\"profile-avatar-input-error\"/>\r\n    <button type=\"submit\" className=\"popup__button\">Сохранить</button>  \r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setNewPlaceLink] = React.useState('');\r\n  function handleNameInput(event) {\r\n    setName(event.target.value);\r\n  }\r\n  function handleLinkInput(event) {\r\n    setNewPlaceLink(event.target.value);\r\n  }\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    props.onAddPlace({\r\n      name,\r\n      link\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm name=\"addplace\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input type=\"text\" \r\n      name=\"name\" \r\n      className=\"popup__input popup__input_type_place-name\" \r\n      onChange={handleNameInput}\r\n      value={name}\r\n      id=\"place-name-input\" \r\n      placeholder=\"Название\" \r\n      required \r\n      minLength=\"2\" \r\n      maxLength=\"30\"\r\n      />\r\n      <span className='popup__error popup__error_visible' id=\"place-name-input-error\"/>\r\n      <input type=\"url\" \r\n      name=\"link\" \r\n      className=\"popup__input popup__input_type_place-link\" \r\n      onChange={handleLinkInput}\r\n      value={link}\r\n      id=\"place-link-input\" \r\n      placeholder=\"Ссылка на картинку\" \r\n      required \r\n      />\r\n      <span className='popup__error popup__error_visible' id=\"place-link-input-error\"/>\r\n      <button type=\"submit\" className=\"popup__button\">Создать</button>  \r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react'\r\n\r\nfunction ImagePopup(props) {\r\n  let openedPopupSelector = props.isOpen ? 'popup_opened' : '';\r\n  return (\r\n    <div className={`popup popup_type_figure ${openedPopupSelector}`}>\r\n      <figure className=\"popup__figure\">\r\n        <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}/>\r\n        <img className=\"popup__image\" src={props.card.link} alt={props.card.name} />\r\n        <figcaption className=\"popup__caption\">{props.card.name}</figcaption>\r\n      </figure>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._headers = headers;\r\n    this._baseUrl = baseUrl;\r\n  }\r\n\r\n  getInitialCards() {\r\n    return this._fetcher(\"/cards\", \"GET\");\r\n  }\r\n\r\n  getUserData() {\r\n    return this._fetcher(\"/users/me\", \"GET\");\r\n  }\r\n\r\n  updateUserData(newUserData) {\r\n    return this._fetcher(\"/users/me\", \"PATCH\", newUserData);\r\n  }\r\n\r\n  likeCard(cardId) {\r\n    return this._fetcher(`/cards/likes/${cardId}`, \"PUT\");\r\n  }\r\n\r\n  unLikeCard(cardId) {\r\n    return this._fetcher(`/cards/likes/${cardId}`, \"DELETE\");\r\n  }\r\n\r\n  uploadNewCard(card) {\r\n    return this._fetcher(\"/cards\", \"POST\", card);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return this._fetcher(`/cards/${cardId}`, \"DELETE\");\r\n  }\r\n\r\n  updateAvatar(newAvatar) {\r\n    return this._fetcher(\"/users/me/avatar\", \"PATCH\", newAvatar);\r\n  }\r\n\r\n  _fetcher(path, method, body) {\r\n    const options = {\r\n      method: method,\r\n      headers: this._headers,\r\n    };\r\n    if (body) {\r\n      options.body = JSON.stringify(body);\r\n    }\r\n    return fetch(`${this._baseUrl}${path}`, options).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-16\",\r\n  headers: {\r\n    authorization: \"67c1746d-dc65-4cb3-99d8-23254d14e06e\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\nimport Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport api from '../utils/Api'\r\n\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, toggleEditProfilePopup] = React.useState(false);\r\n  const [isAddPlacePopupOpen, toggleAddPlacePopup] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, toggleEditAvatarPopup] = React.useState(false);\r\n  const [isImagePopupOpen, toggleImagePopup] = React.useState(false);\r\n  const [selectedCard, setCard] = React.useState({});\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCardsArr] = React.useState([]);\r\n\r\n  React.useEffect(() => { \r\n    api\r\n    .getUserData()\r\n    .then((userInfo) => {\r\n      setCurrentUser(userInfo)\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }, []); \r\n\r\n  React.useEffect(() => {\r\n    api\r\n    .getInitialCards()\r\n    .then((result) => {\r\n      setCardsArr(result);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }, []);\r\n\r\nfunction updateCards(upDatedCard) {\r\n  const newCards = cards.map((card) => card._id === upDatedCard._id ? upDatedCard : card);\r\n  setCardsArr(newCards);\r\n}\r\n\r\nfunction handleCardLike(card) {\r\n  const isLiked = card.likes.some( like => like._id === currentUser._id);\r\n  if (!isLiked) {\r\n    api.likeCard(card._id)\r\n    .then((likedCard) => {\r\n      updateCards(likedCard);\r\n    })    \r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n  else {\r\n    api.unLikeCard(card._id)\r\n    .then((unLikedCard) => {\r\n      updateCards(unLikedCard);\r\n    })    \r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n} \r\n\r\nfunction handleCardDelete(cardForDelete) {\r\n  api.deleteCard(cardForDelete._id)\r\n  .then(() => {\r\n    const newCards = cards.filter((card) => card._id !== cardForDelete._id);\r\n    setCardsArr(newCards);\r\n  })\r\n  .catch((err) => {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\n  function handleUpdateUser(newUserData) {\r\n    api\r\n    .updateUserData(newUserData)\r\n    .then((userInfo) => {\r\n      setCurrentUser(userInfo);\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    })\r\n  }\r\n\r\n  function handleUpdateAvatar(newAvatarLink) {\r\n    api\r\n    .updateAvatar(newAvatarLink)\r\n    .then((userInfo) => {\r\n      setCurrentUser(userInfo);\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => {\r\n      console.log('error:',err);\r\n    })\r\n  }\r\n\r\n  function handleAddPlaceSubmit(newPlaceData) {\r\n    api\r\n    .uploadNewCard(newPlaceData)\r\n    .then((addedCard) => {\r\n      setCardsArr([addedCard, ...cards]);\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => {\r\n      console.log('error:',err);\r\n    })\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    toggleAddPlacePopup(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    toggleEditAvatarPopup(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    toggleEditProfilePopup(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    toggleImagePopup(false);\r\n    toggleAddPlacePopup(false); \r\n    toggleEditProfilePopup(false); \r\n    toggleEditAvatarPopup(false);\r\n  }\r\n\r\n  return (\r\n      <div className=\"page\">\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n          <Header />\r\n          <Main \r\n            onEditProfile={handleEditProfileClick} \r\n            onAddPlace={handleAddPlaceClick} \r\n            onEditAvatar={handleEditAvatarClick}\r\n            onFullImage={toggleImagePopup}\r\n            onCardClick={setCard}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n          />\r\n          <Footer />\r\n          <AddPlacePopup \r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n          >\r\n          </AddPlacePopup>\r\n          <EditProfilePopup \r\n            isOpen={isEditProfilePopupOpen} \r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n          >\r\n          </EditProfilePopup>\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen} \r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          >\r\n          </EditAvatarPopup>\r\n          <ImagePopup \r\n            card={selectedCard}\r\n            isOpen={isImagePopupOpen}\r\n            onClose={closeAllPopups}\r\n          />\r\n        </CurrentUserContext.Provider>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}